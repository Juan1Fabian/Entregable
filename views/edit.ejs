<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Producto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-white">

<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="bg-secondary p-4 rounded shadow-lg" style="width: 100%; max-width: 600px;">
    <h2 class="text-center mb-4">Editar Producto</h2>

    <form action="/edit/<%= producto.idproducto %>" method="POST" enctype="multipart/form-data">
      
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre del Producto</label>
          <input type="text" id="nombre" name="nombre" class="form-control" value="<%= producto.producto %>" required>
        </div>

        <div class="mb-3">
          <label for="precio" class="form-label">Precio</label>
          <input type="number" id="precio" name="precio" class="form-control" value="<%= producto.precio %>" required>
        </div>

        <div class="mb-3">
          <label for="modelo" class="form-label">Modelo</label>
          <input type="text" id="modelo" name="modelo" class="form-control" value="<%= producto.modelo %>" required>
        </div>

        <div class="mb-3">
          <label for="descripcion" class="form-label">Descripción</label>
          <textarea id="descripcion" name="descripcion" class="form-control" required><%= producto.descripcion %></textarea>
        </div>

        <div class="mb-3">
          <label for="stock" class="form-label">Stock</label>
          <input type="number" id="stock" name="stock" class="form-control" value="<%= producto.stock %>" required>
        </div>

        <div class="mb-3">
          <label for="marca" class="form-label">Marca</label>
          <select name="marca" id="marca" class="form-select" required>
            <% marcas.forEach(m => { %>
              <option value="<%= m.idmarca %>" <%= m.idmarca === producto.idmarca ? 'selected' : '' %>><%= m.marca %></option>
            <% }) %>
          </select>
        </div>

        <div class="mb-3">
          <label for="catalogo" class="form-label">Catálogo</label>
          <select name="catalogo" id="catalogo" class="form-select" required>
            <% catalogos.forEach(c => { %>
              <option value="<%= c.idcatalogo %>" <%= c.idcatalogo === producto.idcatalogo ? 'selected' : '' %>><%= c.catalogo %></option>
            <% }) %>
          </select>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">Imagen del Producto (subir si deseas cambiar)</label>
          <input type="file" name="image" id="image" class="form-control" accept="image/*">
        </div>

        <button type="submit" class="btn btn-success w-100">Actualizar Producto</button>
        <a href="/" class="btn btn-secondary w-100 mt-3">Cancelar</a>
    </form>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
